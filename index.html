<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>M.S. Mobile â€” Billing (A5)</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="container">

    <!-- Controls (non-print) -->
    <div class="card no-print top-controls">
      <div class="top-row">
        <div>
          <strong>M.S. Mobile â€” Billing (A5)</strong>
          <div class="muted">Offline Â· Keyboard barcode scanner friendly</div>
        </div>
        <div class="controls-row">
          <button id="btnPrint" class="btn small">Print</button>
          <button id="btnPDF" class="btn small">Download PDF (A5)</button>
          <button id="btnNew" class="btn ghost small">New Bill</button>
          <button id="btnSavePreset" class="btn ghost small">Save Shop Info</button>
        </div>
      </div>

      <div class="settings-row">
        <div class="left-settings">
          <label class="small">Shop Name</label>
          <input id="shopName" value="M.S. Mobile" />

          <label class="small" style="margin-top:8px">Shop Address</label>
          <textarea id="shopAddress" rows="2">Luna Nagar Bus Stop, Thadagam Road, Edayarpalayam, Coimbatore - 641025</textarea>

          <div class="inline-settings">
            <div style="flex:1">
              <label class="small">Contact (phone/email)</label>
              <input id="shopContact" value="82481 08883" />
            </div>
            <div style="width:120px">
              <label class="small">Currency</label>
              <input id="currency" value="â‚¹" />
            </div>
            <div style="width:120px">
              <label class="small">Accent</label>
              <input id="themeColor" type="color" value="#29a9e1" />
            </div>
          </div>
        </div>

        <div class="right-settings">
          <label class="small">Invoice # (auto)</label>
          <input id="invoiceNo" readonly />

          <label class="small" style="margin-top:8px">Date</label>
          <input id="invoiceDate" readonly />

          <label class="small" style="margin-top:8px">Payment Method</label>
          <select id="paymentMethod"><option>Cash</option><option>Card</option><option>UPI</option><option>EMI</option></select>

          <label class="small" style="margin-top:8px">Options</label>
          <div class="options-list">
            <label><input type="checkbox" id="optPreventDup" checked /> Prevent duplicate IMEI/Serial</label>
            <label><input type="checkbox" id="optClearAfterPrint" checked /> Auto-clear after print</label>
            <label><input type="checkbox" id="optSaveInvoices" /> Save invoices (localStorage)</label>
          </div>
        </div>
      </div>
    </div>

    <!-- Invoice (print area) -->
    <div id="invoice" class="card" role="document" aria-label="Invoice">
      <div class="inv-header">
        <div class="shop-left">
          <div class="logo-badge" aria-hidden="true">
            <div class="lg-top">M.S</div>
            <div class="lg-bottom">Mobile</div>
          </div>
          <div>
            <div class="shop-title" id="shopInfoName">M.S. Mobile</div>
            <div class="shop-sub" id="shopInfoAddr">
              All Branded Mobile Sales & Service
              <br>Money Transfer Available
              <br>Luna Nagar Bus Stop, Thadagam Road, Edayarpalayam, Coimbatore - 641025
              <br>Contact: 82481 08883
            </div>
          </div>
        </div>

        <div class="meta-right">
          <div>Invoice: <strong id="viewInvoiceNo">INV-0001</strong></div>
          <div>Date: <span id="viewDate">01-01-2025</span></div>
          <div>Payment: <span id="viewPayment">Cash</span></div>
          <div class="muted">Thank you for choosing us</div>
        </div>
      </div>

      <div class="cust-and-meta">
        <div class="cust">
          <div class="card inner-card">
            <strong>Customer</strong>
            <div class="cust-fields">
              <label class="small">Name</label>
              <input id="customerName" placeholder="Customer name" />
              <label class="small" style="margin-top:6px">Contact</label>
              <input id="customerContact" placeholder="Phone" />
              <label class="small" style="margin-top:6px">Address</label>
              <textarea id="customerAddress" rows="2" placeholder="Customer address"></textarea>
            </div>
          </div>
        </div>

        <div class="meta">
          <div class="card inner-card">
            <strong>Quick Add Item</strong>
            <div class="quick-add">
              <label class="small">Product Type</label>
              <select id="productType"><option>Mobile</option><option>Accessory</option><option>EMI</option><option>Other</option></select>
              <label class="small" style="margin-top:6px">Product Name / Model</label>
              <input id="productName" placeholder="e.g., iPhone 15" />
              <label class="small" style="margin-top:6px">IMEI / Serial (scan or enter)</label>
              <div class="scanner-row">
                <input id="scannerInput" placeholder="Scan IMEI/Serial, then press Enter" />
                <button id="btnAddScanned" class="btn small">Add</button>
              </div>
              <div class="inline-settings" style="margin-top:6px">
                <div style="flex:1">
                  <label class="small">Qty</label>
                  <input id="productQty" value="1" type="number" min="1" />
                </div>
                <div style="width:120px">
                  <label class="small">Unit Price</label>
                  <input id="productPrice" value="0" type="number" min="0" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <table class="items" id="itemsTable" aria-describedby="items-description">
        <thead>
          <tr>
            <th style="width:6%">#</th>
            <th style="width:34%">Product</th>
            <th style="width:12%">Type</th>
            <th style="width:18%">IMEI / Serial</th>
            <th style="width:8%">Qty</th>
            <th style="width:12%">Unit</th>
            <th style="width:10%">Total</th>
            <th style="width:6%" class="no-print"></th>
          </tr>
        </thead>
        <tbody id="itemsBody"></tbody>
      </table>

      <div class="right-calc">
        <div class="totals">
          <div class="row"><span>Subtotal</span><span id="subtotal">â‚¹0.00</span></div>
          <div class="row"><span>Discount</span><span id="discount">â‚¹0.00</span></div>
          <hr />
          <div class="row total-row"><span>Total</span><span id="grandTotal">â‚¹0.00</span></div>
        </div>
      </div>

      <div class="greetings">
        <div class="g-options">
          <label><input type="checkbox" id="gPongal" /> Happy Pongal</label>
          <label><input type="checkbox" id="gDiwali" /> Happy Diwali</label>
          <label><input type="checkbox" id="gHoli" /> Happy Holi</label>
        </div>
        <div class="thankyou" id="thankyouText">Thank You! Visit Again ðŸ˜Š</div>
      </div>

      <!-- Seal box (bottom-right) -->
      <div class="seal-row">
        <div class="seal-box">
          <div class="seal-label">Authorized Signatory / Shop Seal</div>
          <div class="seal-line"></div>
        </div>
      </div>
    </div>

    <div class="no-print tip">Tip: Use a keyboard-wedge barcode scanner â€” scan IMEI/Serial and press Enter, or type and click Add.</div>
  </div>

  <!-- CDNs for PDF export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- App script -->
  <script src="app.js"></script>
</body>
</html>
